import { styled } from '@mui/material';

import { vehiclesVar } from '../graphql/client';
import useReactiveVarWithSelector from '../hooks/useReactiveVarWithSelector';

const WagonSvg = styled('svg')({});

type TrainWagonSm5Props = {
  vehicleId?: number | null;
};

/**
 * Sm5 wagon, used for e.g. by U and E trains in HSL region
 */
export function TrainWagonSm5({ vehicleId }: TrainWagonSm5Props) {
  const vehicleDoorStatus = useReactiveVarWithSelector(vehiclesVar, (v) =>
    vehicleId ? v[vehicleId].drst : null
  );

  const doorsOpen = vehicleDoorStatus === 1;
  const doorsXOffset = doorsOpen ? 4 : 0;

  return (
    <WagonSvg
      xmlns="http://www.w3.org/2000/svg"
      width="100%"
      height="100%"
      viewBox="0 0 150.334 20.5"
      sx={{
        '.door': {
          transition: 'transform 1000ms',
          '&.left': {
            transform: `translate(${-doorsXOffset}px, 0)`,
          },
          '&.right': {
            transform: `translate(${doorsXOffset}px, 0)`,
          },
        },
      }}
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="currentColor"
        d="M0.359,13.495c0-0.46,0-0.92,0-1.379
			c0.094-0.219,0.186-0.438,0.28-0.655c1.137-2.652,2.285-5.299,3.413-7.954c0.632-1.485,1.593-2.615,3.189-3.1
			C7.705,0.267,8.174,0.136,8.641,0C53.115,0,97.59,0,142.065,0c0.126,0.052,0.249,0.127,0.381,0.151
			c1.738,0.319,3.14,1.149,3.883,2.797c1.139,2.524,2.151,5.104,3.312,7.617c0.894,1.936,0.685,3.634-0.626,5.29
			c-0.848,1.072-1.856,1.884-3.116,2.396c-47.082,0-94.165,0-141.246,0c-0.387-0.212-0.795-0.39-1.156-0.636
			C2,16.589,0.958,15.209,0.359,13.495z M21.676,10.344c0-1.607,0.008-3.215-0.004-4.822c-0.005-0.751-0.329-1.087-1.041-1.09
			C18.87,4.423,17.11,4.44,15.35,4.423c-0.728-0.008-1.023,0.401-1.026,1.035c-0.018,3.265-0.02,6.528,0.001,9.796
			c0.004,0.622,0.3,1.024,1.036,1.014c1.71-0.031,3.418-0.01,5.127-0.011c0.882-0.002,1.181-0.291,1.185-1.169
			C21.681,13.506,21.676,11.926,21.676,10.344z M56.336,10.363c0,1.605-0.003,3.213,0.001,4.819c0.002,0.773,0.282,1.07,1.027,1.072
			c1.734,0.006,3.469-0.017,5.204,0.011c0.75,0.011,1.108-0.384,1.114-1.042c0.026-3.24,0.028-6.48,0.002-9.719
			c-0.007-0.806-0.348-1.073-1.143-1.075c-1.709-0.005-3.419-0.006-5.128,0.001c-0.805,0.003-1.075,0.286-1.077,1.109
			C56.334,7.147,56.336,8.756,56.336,10.363z M137.157,10.394c0-1.534,0.006-3.066-0.001-4.6c-0.005-1.094-0.274-1.364-1.326-1.365
			c-1.636-0.002-3.271-0.005-4.906,0.001c-0.868,0.003-1.125,0.266-1.127,1.14c-0.002,3.195-0.002,6.389,0.001,9.584
			c0,0.828,0.265,1.099,1.076,1.101c1.636,0.005,3.271,0.003,4.906,0.002c1.104-0.002,1.374-0.274,1.377-1.417
			C137.16,13.358,137.157,11.875,137.157,10.394z M98.337,10.277c0,1.633-0.004,3.266,0.002,4.897
			c0.003,0.819,0.274,1.078,1.103,1.08c1.683,0.004,3.367,0.005,5.051,0c0.79-0.002,1.086-0.263,1.087-1.022
			c0.009-3.264,0-6.53,0.006-9.794c0.001-0.696-0.318-1.018-1.019-1.014c-1.761,0.011-3.521,0.016-5.28-0.003
			c-0.681-0.007-0.964,0.277-0.956,0.958C98.351,7.012,98.337,8.645,98.337,10.277z M74.126,8.413c0-0.997-0.004-1.994,0.001-2.99
			c0.004-0.657-0.312-0.992-0.971-0.993c-1.788-0.002-3.576,0.012-5.364-0.008c-0.69-0.008-1.003,0.387-1.014,0.972
			c-0.035,1.967-0.031,3.935-0.002,5.901c0.009,0.584,0.294,1.002,0.987,0.997c1.787-0.012,3.576-0.005,5.364-0.002
			c0.702,0.001,1.011-0.352,1.001-1.042C74.117,10.303,74.126,9.358,74.126,8.413z M108.786,8.367c0,0.946-0.003,1.891,0.001,2.836
			c0.004,0.772,0.284,1.079,1.029,1.083c1.762,0.01,3.524-0.01,5.287,0.008c0.729,0.01,1.024-0.409,1.033-1.032
			c0.027-1.939,0.029-3.881,0-5.823c-0.01-0.626-0.325-1.026-1.047-1.017c-1.762,0.021-3.524,0.009-5.287,0.006
			c-0.69,0-1.025,0.33-1.018,1.028C108.793,6.426,108.786,7.396,108.786,8.367z M35.326,8.318c0,0.97-0.011,1.939,0.003,2.908
			c0.012,0.745,0.332,1.058,1.072,1.061c1.734,0.006,3.468,0.006,5.203,0c0.727-0.003,1.072-0.328,1.078-1.058
			c0.015-1.912,0.015-3.825,0-5.737c-0.006-0.733-0.349-1.058-1.074-1.061c-1.708-0.008-3.417-0.006-5.126-0.001
			c-0.839,0.002-1.144,0.299-1.153,1.133C35.318,6.482,35.325,7.4,35.326,8.318z M53.115,8.358c0-0.944,0.004-1.889-0.001-2.834
			c-0.003-0.829-0.259-1.091-1.091-1.094c-1.686-0.007-3.37-0.005-5.056-0.001c-0.854,0.002-1.187,0.258-1.201,1.095
			c-0.034,1.889-0.034,3.779,0,5.669c0.015,0.837,0.347,1.093,1.2,1.095c1.711,0.004,3.421-0.002,5.132,0.002
			c0.689,0.002,1.03-0.316,1.021-1.021C53.106,10.3,53.115,9.329,53.115,8.358z M87.775,8.301c0,0.942-0.007,1.887,0.002,2.829
			c0.008,0.842,0.314,1.155,1.132,1.157c1.71,0.006,3.419,0.006,5.126,0c0.769-0.003,1.092-0.326,1.097-1.114
			c0.009-1.862,0.008-3.725,0-5.588c-0.003-0.84-0.314-1.152-1.132-1.155c-1.71-0.005-3.418-0.006-5.126,0
			c-0.769,0.003-1.087,0.324-1.097,1.115C87.766,6.464,87.775,7.382,87.775,8.301z M126.576,8.346c0-0.943,0.003-1.888-0.001-2.832
			c-0.004-0.799-0.289-1.081-1.104-1.083c-1.685-0.007-3.37-0.006-5.055-0.001c-0.847,0.002-1.176,0.268-1.19,1.107
			c-0.031,1.888-0.032,3.779,0.001,5.668c0.015,0.808,0.347,1.08,1.136,1.082c1.71,0.006,3.422,0.006,5.132,0
			c0.819-0.003,1.078-0.275,1.082-1.104C126.578,10.236,126.576,9.291,126.576,8.346z M84.573,8.335
			c0-1.021-0.004-2.042,0.002-3.063c0.003-0.565-0.258-0.844-0.831-0.843c-1.812,0.004-3.624,0.005-5.436-0.001
			c-0.663-0.003-0.981,0.312-0.98,0.97c0.001,1.966,0.003,3.932-0.001,5.897c-0.001,0.696,0.326,1.008,1.03,1
			c1.761-0.016,3.522-0.018,5.283,0c0.692,0.009,0.956-0.304,0.941-0.973C84.556,10.326,84.574,9.33,84.573,8.335z M32.123,8.424
			c0-1.022,0.003-2.042-0.001-3.064c-0.002-0.569-0.256-0.925-0.862-0.927c-1.839-0.006-3.678-0.006-5.516,0
			c-0.552,0.001-0.859,0.294-0.861,0.848c-0.008,2.043-0.01,4.085,0,6.127c0.003,0.561,0.247,0.896,0.884,0.889
			c1.788-0.02,3.575-0.016,5.363-0.003c0.717,0.006,1.006-0.347,0.997-1.035C32.115,10.313,32.124,9.368,32.123,8.424z
			 M143.883,12.289c0.971,0,1.941,0.008,2.912-0.002c0.878-0.009,1.271-0.53,0.945-1.32c-0.82-1.98-1.676-3.947-2.517-5.919
			c-0.191-0.45-0.51-0.642-1.014-0.628c-1.046,0.028-2.094,0.004-3.143,0.011c-0.786,0.005-1.121,0.272-1.136,1.083
			c-0.037,1.89-0.036,3.781-0.001,5.673c0.015,0.838,0.348,1.099,1.193,1.103C142.044,12.293,142.964,12.289,143.883,12.289z
			 M11.419,8.437c0-1.021,0.008-2.038-0.003-3.058c-0.006-0.608-0.326-0.944-0.944-0.948C9.351,4.424,8.225,4.382,7.109,4.458
			c-0.32,0.024-0.763,0.341-0.897,0.638c-0.873,1.924-1.681,3.879-2.499,5.828c-0.344,0.822,0,1.355,0.892,1.361
			c1.912,0.013,3.824,0.009,5.736,0.001c0.847-0.003,1.067-0.229,1.077-1.095C11.429,10.272,11.42,9.354,11.419,8.437z"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="#d4d4d4"
        className="door left"
        d="M15.362,4.424c-0.728-0.008-1.023,0.401-1.026,1.035
		c-0.016,3.265-0.019,6.528,0.001,9.795c0.004,0.623,0.3,1.026,1.037,1.014c0.939-0.017,1.879-0.019,2.818-0.015
		c0-3.652,0-8.038,0-11.825C17.249,4.43,16.306,4.434,15.362,4.424z"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="#d4d4d4"
        className="door right"
        d="M21.685,5.522c-0.006-0.751-0.33-1.086-1.042-1.09
		c-0.816-0.004-1.633-0.005-2.45-0.004c0,3.787,0,8.173,0,11.825c0.769,0,1.539,0.005,2.309,0.005
		c0.882-0.001,1.182-0.291,1.186-1.168c0.007-1.583,0.002-3.163,0.002-4.745C21.689,8.737,21.697,7.13,21.685,5.522z"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="#d4d4d4"
        className="door left"
        d="M57.475,4.42c-0.728-0.007-1.023,0.402-1.026,1.036
		c-0.017,3.265-0.019,6.528,0.001,9.796c0.004,0.622,0.3,1.024,1.037,1.013c0.939-0.017,1.879-0.019,2.819-0.016
		c0-3.651,0-8.037,0-11.824C59.362,4.427,58.418,4.431,57.475,4.42z"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="#d4d4d4"
        className="door right"
        d="M63.798,5.52c-0.006-0.751-0.329-1.086-1.042-1.09
		c-0.817-0.004-1.634-0.005-2.45-0.004c0,3.787,0,8.173,0,11.824c0.769,0.001,1.539,0.006,2.308,0.006
		c0.882-0.002,1.182-0.291,1.186-1.168c0.007-1.583,0.002-3.163,0.002-4.745C63.801,8.734,63.81,7.127,63.798,5.52z"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="#d4d4d4"
        className="door left"
        d="M99.328,4.424c-0.729-0.008-1.024,0.401-1.027,1.035
		c-0.017,3.265-0.02,6.528,0.001,9.795c0.004,0.623,0.3,1.026,1.038,1.014c0.938-0.017,1.878-0.019,2.817-0.015
		c0-3.652,0-8.038,0-11.825C101.214,4.43,100.271,4.434,99.328,4.424z"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="#d4d4d4"
        className="door right"
        d="M105.65,5.522c-0.006-0.751-0.33-1.086-1.042-1.09
		c-0.817-0.004-1.635-0.005-2.451-0.004c0,3.787,0,8.173,0,11.825c0.77,0,1.54,0.005,2.309,0.005
		c0.883-0.001,1.182-0.291,1.186-1.168c0.006-1.583,0.002-3.163,0.002-4.745C105.654,8.737,105.661,7.13,105.65,5.522z"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="#d4d4d4"
        className="door left"
        d="M130.935,4.417c-0.729-0.008-1.024,0.402-1.027,1.035
		c-0.017,3.264-0.019,6.529,0.001,9.795c0.004,0.623,0.3,1.026,1.037,1.015c0.939-0.017,1.879-0.019,2.818-0.016
		c0-3.651,0-8.037,0-11.825C132.821,4.424,131.878,4.428,130.935,4.417z"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        fill="#d4d4d4"
        className="door right"
        d="M137.257,5.517c-0.005-0.751-0.329-1.086-1.042-1.091
		c-0.817-0.004-1.634-0.005-2.451-0.004c0,3.788,0,8.173,0,11.825c0.77,0.001,1.54,0.005,2.31,0.005
		c0.882-0.001,1.181-0.29,1.185-1.168c0.007-1.582,0.002-3.162,0.002-4.744C137.26,8.731,137.269,7.124,137.257,5.517z"
      />
    </WagonSvg>
  );
}

export default TrainWagonSm5;
